{% extends "users/user_base.html" %}
{% load crispy_forms_tags %}
{% load static %}

  {% block content%} 
  <div class="container mt-2 pt-2 ">
    <div class="row padding mt-2">
      <div class="col-md-8 mt-2 mb-4">
        
          {% if messages %}
            {% for message in messages %}
              <div class="alert alert-{{ message.tags }}">
                {{ message }}
              </div>
            {% endfor %}
          {% endif %}
   
      </div>
      <div class="col-lg-8 col-md-12 col-sm-12">
        <div class="card mb-1">
          <div class="card-header font-weight-bold">
            <h2 class="display-5 lead"> Account</h2>
              </div>
              <div class="card-body">
             
                    <!-- border: 1px solid #000; -->
            <div class="d-flex flex-xl-row flex-lg-row flex-md-column flex-sm-column flex-column" style="width: 100%;">
            <div class="d-xl-flex d-lg-flex d-md-none d-sm-none d-none justify-content-center flex-column" style="width: 40%;">

            <div class="d-flex flex-column justify-content-center align-items-center vertical-align-center">
                
                    <img class="img-thumbnail" id="id_profile_image_display" src="{{ user.profile.image.url }}" style="width: 100%;"/>
                
                <div class="d-flex align-items-center justify-content-center mt-1" style=" width: 100%;">
                    <a class='btn btn-primary btn-block profile-edit-btn' href="{% url 'profile' %}" style="margin-right: 0px;">Edit Profile</a>
                </div> 
            </div>


            </div>
            <div class="d-xl-none d-lg-none d-md-flex d-sm-flex d-flex justify-content-center flex-column" style="width: 100%;" >
                
                <div class="d-flex  flex-column  justify-content-center align-items-center vertical-align-center">
                    
                        <img class="img-thumbnail profile-image" id="id_profile_image_display" src="{{ user.profile.image.url }}" style="width: 60%;"/>
                    
                </div>
                <div class="d-flex align-items-center justify-content-center mt-1" style=" width: 100%;">
                    <a class='btn btn-primary btn-block profile-edit-btn' href="{% url 'profile' %}" style="margin-right: 0px;">Edit Profile</a>
                </div>  
                
            </div>



            <div class="account-attributes d-flex justify-content-start align-items-start vertical-align-center flex-column p-xl-4 p-lg-4 p-md-3 p-sm-3 p-0">
            <div class="d-flex flex-row justify-content-between" style="width: 100%;">
                <div class="d-flex flex-column justify-content-between ml-3">
                    <h5 class="text-dark">
                        <strong>
                            {{user.username}}
                        </strong>
                    </h5>
                   
                </div>

            </div>
            <div class="d-flex justify-content-between flex-column mt-3 p-3" style="width: 100%;">

                <!-- START EMAIL FIELD -->
                <div class="d-flex justify-content-between flex-row my-1" style="width: 100%;">
                    <div class="text d-flex">
                        <span class='text-dark'>Email</span>
                    </div>

                    <div class="d-flex">
                        
                        <span style="margin-left: 10rem;" class="text text-primary">{{user.email}}</span>
                        
                    </div>
                </div>
               
                <!-- END EMAIL FIELD -->
                <!-- START USERNAME FIELD -->
                <div class="d-flex justify-content-between flex-row my-1" style="width: 100%;">
                    <div class="text d-flex">
                        <span class='text-dark'>Username:</span>
                    </div>

                    <div class="d-flex ">
                        
                        <span class="text text-primary ml-5">{{user.username}}</span>
                        
                    </div>
                </div>
               
                  <!-- END USERNAME FIELD -->
                   <!-- START USERNAME FIELD -->
                <div class="d-flex justify-content-between flex-row my-1 " style="width: 100%;">
                    
                    <div class="d-flex text-center mt-5">
                        
                        <p style="margin-left: 5rem; margin-top: 1rem;" class="lead"><a class="text-center" href="{% url 'password_change' %}"  >Change Password</a></p>
                        
                    </div>
                </div>
               
                  <!-- END USERNAME FIELD -->
                </div>
                


      </div>
    </div>
  </div>             
</div>
            <div class="card mb-4">
              <div class="card-header">
                <div class="col-lg-12 col-md-12 col-sm-12">
                  <h2 class="display-5" style="font-size: 25px; font-family: Lobster;"> My Post </h2>
                  <p class="text-muted">
                    
                    {% if posts %}
                      <div class="media-objects">
                      {% for post in posts %}
                        <a href="{% url 'post-detail' post.id %}" style="text-decoration: none;"><li class="list-group-item mb-2">{{post}}</li></a>
                      {% endfor %}
                      </div>
                    {% else %}
                      <p>You have no posts. Create a post <a href="{% url 'post-create' %}">here</a>.</p>
                    {% endif %}
                  
                  </p>
                 
                  
                </div>
                
              </div>
              
            </div>
 
</div>

{% endblock %}